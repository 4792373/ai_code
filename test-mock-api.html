<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¨¡æ‹ŸAPIæµ‹è¯•</title>
</head>
<body>
  <h1>æ¨¡æ‹ŸAPIæµ‹è¯•é¡µé¢</h1>
  <p>è¯·æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æµ‹è¯•ç»“æœ</p>
  <button onclick="testMockApi()">æµ‹è¯•æ¨¡æ‹ŸAPI</button>
  
  <script type="module">
    import { getApiClient } from './src/services/apiClient.ts'
    import { initializeMockApiService } from './src/services/mockApiService.ts'
    
    // åˆå§‹åŒ–æ¨¡æ‹ŸAPIæœåŠ¡
    initializeMockApiService()
    
    // è·å–APIå®¢æˆ·ç«¯
    const apiClient = getApiClient()
    
    window.testMockApi = async function() {
      try {
        console.log('å¼€å§‹æµ‹è¯•æ¨¡æ‹ŸAPI...')
        
        // æµ‹è¯•è·å–ç”¨æˆ·åˆ—è¡¨
        console.log('1. æµ‹è¯•è·å–ç”¨æˆ·åˆ—è¡¨...')
        const users = await apiClient.getUsers()
        console.log('âœ… è·å–ç”¨æˆ·åˆ—è¡¨æˆåŠŸ:', users)
        
        // æµ‹è¯•åˆ›å»ºç”¨æˆ·
        console.log('2. æµ‹è¯•åˆ›å»ºç”¨æˆ·...')
        const newUser = await apiClient.createUser({
          name: 'æµ‹è¯•ç”¨æˆ·',
          email: 'test@example.com',
          role: 'user',
          status: 'active'
        })
        console.log('âœ… åˆ›å»ºç”¨æˆ·æˆåŠŸ:', newUser)
        
        console.log('ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼')
      } catch (error) {
        console.error('âŒ æµ‹è¯•å¤±è´¥:', error)
      }
    }
    
    // è‡ªåŠ¨è¿è¡Œæµ‹è¯•
    window.testMockApi()
  </script>
</body>
</html>
